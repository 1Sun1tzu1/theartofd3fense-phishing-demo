<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <title>TOAD ‚Ä¢ Mail demo</title>
  <link rel="icon" href="assets/toad-favicon.svg" type="image/svg+xml">
  <link rel="stylesheet" href="style.css"/>
</head>
<body>

  <!-- INTRO (shown on first visit; can be dismissed by swipe left or Start) -->
  <div id="intro" class="intro" role="dialog" aria-label="Welcome & how to use" aria-modal="true">
    <div class="intro__card">
      <img src="assets/toad-logo.svg" alt="TOAD" class="intro__logo"/>
      <h1 class="intro__title">Phishing Demo</h1>
      <p class="intro__lead">See what one wrong click can reveal ‚Äî safely.</p>
      <ul class="intro__list">
        <li>üì© Explore the inbox (some emails are safe, some are phishing).</li>
        <li>üîç Opening a phish shows what attackers can learn (IP, device, pixel).</li>
        <li>üîê Tap ‚ÄúSign in‚Äù to see a **simulated** keystroke capture (no data stored).</li>
      </ul>
      <button id="introStart" class="btn intro__start">üëâ Swipe left or tap Start</button>
      <button id="introSkip" class="link intro__skip" aria-label="Skip intro next time">Don‚Äôt show again</button>
    </div>
  </div>

  <!-- Top app bar -->
  <header class="bar">
    <div class="brand">
      <img src="assets/toad-logo.svg" alt="TOAD logo" class="logo"/>
      <span class="brand-name">Mail</span>
    </div>
    <button id="helpBtn" class="ic" aria-label="How to use">?</button>
  </header>

  <!-- Tabs like Gmail -->
  <nav class="tabs" role="tablist" aria-label="Folders">
    <button class="tab active" data-box="inbox" role="tab" aria-selected="true">Inbox</button>
    <button class="tab" data-box="junk" role="tab" aria-selected="false">Junk</button>
  </nav>

  <!-- Frame like Gmail content area -->
  <main class="frame">
    <!-- INBOX -->
    <section id="box-inbox" class="box active" role="tabpanel" aria-label="Inbox">
      <!-- Legit internal -->
      <article class="row unread" data-tpl="hr" data-attack="0" tabindex="0">
        <div class="avatar in">HR</div>
        <div class="col">
          <div class="top"><span class="from">HR Team</span><time class="time">09:14</time></div>
          <h3 class="subj">Holiday schedule update</h3>
          <p class="prev">Please review the 2025 holiday policy. No action required today.</p>
        </div>
      </article>

      <!-- Microsoft billing phish -->
      <article class="row unread" data-tpl="invoice" data-attack="1" tabindex="0">
        <div class="avatar ex">MS</div>
        <div class="col">
          <div class="top"><span class="from">Microsoft 365 Billing</span><time class="time">08:02</time></div>
          <h3 class="subj">Action required: Microsoft 365 subscription payment failed</h3>
          <p class="prev">We couldn‚Äôt process your latest payment. Review to prevent service disruption.</p>
        </div>
      </article>

      <!-- OneDrive CV phish (kept in Inbox by design) -->
      <article class="row unread" data-tpl="cv" data-attack="1" tabindex="0">
        <div class="avatar ex">AM</div>
        <div class="col">
          <div class="top"><span class="from">Anna McLean via OneDrive</span><time class="time">Mon</time></div>
          <h3 class="subj">Application ‚Äì Senior Account Manager (CV attached)</h3>
          <p class="prev">Sharing CV_Anna_McLean.docm for your review.</p>
        </div>
      </article>

      <!-- TOAD promo (clearly branded, non-attack) -->
      <article class="row promo" data-tpl="promo" data-attack="0" tabindex="0">
        <div class="avatar toad">TD</div>
        <div class="col">
          <div class="top"><span class="from">The Art of D3fense</span><time class="time">Today</time></div>
          <h3 class="subj">Book your phishing simulation now</h3>
          <p class="prev">Run a safe, tailored campaign. Quick setup, real impact.</p>
          <span class="chip">TOAD</span>
        </div>
      </article>
    </section>

    <!-- JUNK -->
    <section id="box-junk" class="box" role="tabpanel" aria-label="Junk">
      <article class="row" tabindex="0">
        <div class="avatar ex">CR</div>
        <div class="col">
          <div class="top"><span class="from">Crypto Riches</span><time class="time">Yesterday</time></div>
          <h3 class="subj">üí∞ Double your coins in 24h!</h3>
          <p class="prev">Limited offer. No risk.</p>
        </div>
      </article>
      <article class="row" tabindex="0">
        <div class="avatar ex">LD</div>
        <div class="col">
          <div class="top"><span class="from">Lucky Draw</span><time class="time">Yesterday</time></div>
          <h3 class="subj">üéÅ You won a prize!</h3>
          <p class="prev">Claim within 2 hours to avoid forfeit.</p>
        </div>
      </article>
      <article class="row" tabindex="0">
        <div class="avatar ex">MS</div>
        <div class="col">
          <div class="top"><span class="from">Microsoft 365</span><time class="time">Mon</time></div>
          <h3 class="subj">Security update confirmation</h3>
          <p class="prev">Your security defaults are enabled.</p>
        </div>
      </article>
    </section>
  </main>

  <!-- Floating CTA -->
  <a class="fab" href="mailto:contact@theartofd3fense.co.uk?subject=Phishing%20Simulation%20Request">Book</a>

  <!-- MESSAGE OVERLAY -->
  <div id="overlay" class="overlay" aria-hidden="true">
    <div class="sheet">
      <div class="sheet-head">
        <button id="closeOverlay" class="ic" aria-label="Back">‚Äπ</button>
        <div class="title" id="sheetTitle">Message</div>
      </div>

      <div class="sheet-grid">
        <!-- message content -->
        <div id="sheetBody" class="sheet-body"></div>

        <!-- impact panel (only for attack messages) -->
        <aside id="impactPanel" class="impact" hidden>
          <h4>What this reveals on open</h4>
          <ul class="facts">
            <li><b>Public IP:</b> <span id="v_ip">‚Ä¶</span></li>
            <li><b>Approx. location:</b> <span id="v_loc">‚Ä¶</span></li>
            <li><b>Network/ISP:</b> <span id="v_isp">‚Ä¶</span></li>
            <li><b>Device:</b> <span id="v_dev">‚Ä¶</span></li>
            <li><b>Browser:</b> <span id="v_br">‚Ä¶</span></li>
            <li><b>Timezone:</b> <span id="v_tz">‚Ä¶</span></li>
            <li><b>Screen:</b> <span id="v_scr">‚Ä¶</span></li>
          </ul>
          <button id="loadPixel" class="btn ghost">Simulate ‚ÄúLoad remote images‚Äù</button>
          <div id="pixelResult" class="note">Simulated locally; no data sent.</div>
          <img id="demoPixel" alt="" style="display:none;width:1px;height:1px;" />
        </aside>
      </div>
    </div>
  </div>

  <!-- SIGN-IN MODAL -->
  <div id="login" class="modal" aria-hidden="true">
    <div class="panel">
      <button id="closeLogin" class="ic x" aria-label="Close">‚úï</button>
      <img id="loginLogo" class="m-logo" alt="">
      <h1 id="loginTitle" class="m-title">Sign in</h1>

      <label class="lbl" for="lemail">Email</label>
      <input id="lemail" class="in" type="email" inputmode="email" autocomplete="off" placeholder="you@company.co.uk" required>

      <label class="lbl" for="lpass">Password</label>
      <input id="lpass" class="in" type="password" autocomplete="off" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>

      <div class="row">
        <a href="#" class="link" onclick="return false;">Forgot password?</a>
        <button id="loginBtn" class="btn primary">Sign in</button>
      </div>

      <details class="cap" open>
        <summary>Captured keystrokes (simulation)</summary>
        <pre id="captureBox">Start typing‚Ä¶</pre>
      </details>

      <details class="cap">
        <summary>Other risks (simulated)</summary>
        <button id="clipBtn" class="btn ghost">Simulate clipboard read</button>
        <div id="clipResult" class="note"></div>
      </details>

      <div id="loginNotice" class="notice" hidden>
        ‚ö†Ô∏è Simulation complete. In a real attack, your keystrokes could already be exfiltrated.
      </div>
    </div>
  </div>

  <!-- HOW-TO modal -->
  <div id="howto" class="modal" aria-hidden="true">
    <div class="panel panel-dark">
      <button id="closeHowto" class="ic x" aria-label="Close">‚úï</button>
      <h2>How to use this demo</h2>
      <ol class="how">
        <li>Open the **Microsoft** or **OneDrive** email to see realistic lures.</li>
        <li>The right panel shows what **opens** reveal (IP, device, pixel) ‚Äî only for phish.</li>
        <li>Tap **View invoice / Sign in** to open a **fake login** (simulation only).</li>
        <li>The **TOAD** email is legit ‚Äî no tracking panel there.</li>
      </ol>
      <p class="note">No data is stored. Everything runs locally in your browser.</p>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
